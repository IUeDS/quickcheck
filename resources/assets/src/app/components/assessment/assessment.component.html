<main class="container-fluid">
    <div class="row section-white qc-quiz-view" >
        <div class="col-12">
            <h1 *ngIf="this.assessmentTitle" class="qc-assessment-title">{{ this.assessmentTitle }}</h1>
            <!-- if no title, make a generic h1 header for accessibility, to maintain semantic header structure -->
            <h1 *ngIf="!this.assessmentTitle" class="sr-only">Take the quick check</h1>
            <p *ngIf="this.assessmentDescription" class="qc-assessment-description" ng-bind-html="this.assessmentDescription"></p>
            <h2 *ngIf="this.currentQuestionIndex + 1 <= this.pointsPossible"
                class="qc-question-number"
                tabindex="-1" aria-live="assertive" aria-atomic="true">
                Question {{ this.currentQuestionIndex + 1 }} out of {{ this.pointsPossible }}
            </h2>
            <div *ngIf="this.currentQuestion" [attr.aria-hidden]="this.modalVisible ? 'true' : 'false'">
                <qc-multiple-choice *ngIf="this.isQuestionType('multiple_choice')"
                    qc-current-question="this.currentQuestion"
                    qc-on-answer-selection="this.onAnswerSelection($event)">
                </qc-multiple-choice>

                <qc-multiple-correct *ngIf="this.isQuestionType('multiple_correct')"
                    qc-current-question="this.currentQuestion"
                    qc-on-answer-selection="this.onAnswerSelection($event)">
                </qc-multiple-correct>

                <qc-matrix *ngIf="this.isQuestionType('matrix')"
                    qc-current-question="this.currentQuestion"
                    qc-incorrect-rows="this.incorrectRows"
                    qc-on-answer-selection="this.onAnswerSelection($event)">
                </qc-matrix>

                <qc-matching *ngIf="this.isQuestionType('matching')"
                    qc-current-question="this.currentQuestion"
                    qc-incorrect-rows="this.incorrectRows"
                    qc-on-answer-selection="this.onAnswerSelection($event)">
                </qc-matching>

                <qc-dropdowns *ngIf="this.isQuestionType('dropdown')"
                    qc-current-question="this.currentQuestion"
                    qc-on-answer-selection="this.onAnswerSelection($event)">
                </qc-dropdowns>

                <qc-textmatch *ngIf="this.isQuestionType('textmatch')"
                    qc-current-question="this.currentQuestion"
                    qc-on-answer-selection="this.onAnswerSelection($event)">
                </qc-textmatch>

                <qc-numerical *ngIf="this.isQuestionType('numerical')"
                    qc-current-question="this.currentQuestion"
                    qc-on-answer-selection="this.onAnswerSelection($event)">
                </qc-numerical>
            </div>
        </div>
        <div class="row">
            <div class="col-12">
                <div class="qc-assessment-button-area">
                    <qc-row-feedback *ngIf="this.incorrectRows"
                        qc-feedback="this.feedback"
                        qc-incorrect-rows="this.incorrectRows"
                        qc-is-correct="this.isCorrect"
                        qc-is-next-btn-disabled="this.isNextBtnDisabled"
                        qc-on-continue="this.nextQuestion()"
                        qc-partial-credit="this.partialCredit">
                    </qc-row-feedback>
                    <button class="qc-submit-response" [disabled]="this.isSubmitDisabled()" (click)="this.submitAnswer()">Submit</button>
                    <div class="qc-current-score" aria-live="assertive" aria-atomic="true">{{ this.score }} / {{ this.pointsPossible }} questions correct</div>
                    <button class="qc-restart" (click)="this.restart()">Start Over</button>
                </div>
            </div>
        </div>
        <qc-feedback-modal
            qc-feedback="this.feedback"
            qc-is-correct="this.isCorrect"
            qc-is-next-btn-disabled="this.isNextBtnDisabled"
            qc-on-next-question="this.nextQuestion()">
        </qc-feedback-modal>
        <qc-completion-modal
            qc-attempt-id="this.attemptId"
            qc-complete="this.complete"
            qc-points-possible="this.pointsPossible"
            qc-score="this.score">
        </qc-completion-modal>
        <qc-timeout-modal
            qc-timeout-seconds-remaining="this.timeoutSecondsRemaining">
        </qc-timeout-modal>
        <qc-error-modal *ngIf="this.errorMessage"
            qc-error-message="this.errorMessage">
        </qc-error-modal>
    </div>
</main>
